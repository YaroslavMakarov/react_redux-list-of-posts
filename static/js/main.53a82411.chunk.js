(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(29)},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(3),s=n.n(r),o=n(2),u=n(12),l=n.n(u),i=n(5),m=n(1),p=n(4),E=function(e){return{type:"SET_LOADING",loadingStatus:e}},d={posts:[],inputValue:"",debounceInputValue:"",loadingStatus:!1},_=function(e){return e.inputValue?Object(i.a)(e.posts).filter((function(t){return(t.title+t.body).toLowerCase().includes(e.debounceInputValue.trim())})):e.posts},b=Object(p.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return Object(m.a)(Object(m.a)({},e),{},{setLoading:t.loadingStatus});case"SET_POSTS":return Object(m.a)(Object(m.a)({},e),{},{posts:t.posts});case"INPUT_VALUE":return Object(m.a)(Object(m.a)({},e),{},{inputValue:t.inputValue});case"SET_DEBOUNCE_INPUT_VALUE":return Object(m.a)(Object(m.a)({},e),{},{debounceInputValue:t.debounceInputValue});case"DELETE_POST":return Object(m.a)(Object(m.a)({},e),{},{posts:Object(i.a)(e.posts).filter((function(e){return e.id!==t.postId}))});case"DELETE_COMMENT":return Object(m.a)(Object(m.a)({},e),{},{posts:Object(i.a)(e.posts).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.commentId}))})}))});default:return e}}));n(23);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This value was promised to be there.";if(void 0===e||null===e)throw new TypeError(t);return e}var O=function(e){return fetch("https://mate-academy.github.io/react_dynamic-list-of-posts/api/"+e).then((function(e){return e.json()}))},N=O("posts.json"),j=O("users.json"),v=O("comments.json"),y=Promise.all([N,j,v]).then((function(e){return e[0].map((function(t){return Object(m.a)(Object(m.a)({},t),{},{user:f(e[1].find((function(e){return e.id===t.userId}))),comments:e[2].filter((function(e){return e.postId===t.id}))})}))})),h=(n(24),function(e){var t=e.name,n=e.username,a=e.email,r=e.address;return c.a.createElement("div",{className:"user"},c.a.createElement("h2",{className:"user__nick"},"Post by: ".concat(n)),c.a.createElement("p",{className:"user__contacts"},c.a.createElement("span",{className:"user__contacts-item"},t),c.a.createElement("br",null),c.a.createElement("span",{className:"user__contacts-item"},"".concat(r.street," ").concat(r.suite)),c.a.createElement("br",null),c.a.createElement("span",{className:"user__contacts-item"},"".concat(r.city," ").concat(r.zipcode)),c.a.createElement("br",null),c.a.createElement("span",{className:"user__contacts-item"},c.a.createElement("a",{href:"mailto:".concat(a)},a))))}),T=(n(25),function(e){var t=e.title,n=e.body,a=e.id,r=Object(o.b)();return c.a.createElement("article",{className:"post"},c.a.createElement("h2",{className:"post__header"},t),c.a.createElement("p",{className:"post__text"},n),c.a.createElement("button",{type:"button",onClick:function(){return r({type:"DELETE_POST",postId:a})}},"delete post"))}),g=(n(26),function(e){var t=e.name,n=e.email,a=e.body,r=e.id,s=Object(o.b)();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"comment"},c.a.createElement("div",{className:"comment__name comment__indentation"},c.a.createElement("strong",null,"Comment by:")," ",t,c.a.createElement("br",null)),c.a.createElement("div",{className:"comment__email comment__indentation"},c.a.createElement("strong",null,"Email:"),c.a.createElement("a",{href:"mailto:".concat(n),className:"comment__email-link comment__indentation"},n))),c.a.createElement("div",{className:"comment__text comment__indentation"},a),c.a.createElement("button",{type:"button",onClick:function(){return s({type:"DELETE_COMMENT",commentId:r})}},"delete comment"))}),I=(n(27),function(e){var t=e.comments;return c.a.createElement("section",null,c.a.createElement("ul",{className:"commentList"},t.map((function(e){return c.a.createElement("li",{key:e.id,className:"commentList__item"},c.a.createElement(g,{name:e.name,email:e.email,body:e.body,id:e.id}))}))))}),L=(n(28),function(e){var t=e.posts;return c.a.createElement("ul",{className:"postList"},t.map((function(e){return c.a.createElement("div",{key:e.id,className:"postList__wrapper"},c.a.createElement("li",{className:"postList__item"},c.a.createElement(h,e.user),c.a.createElement(T,e)),c.a.createElement(I,{comments:e.comments}))})))}),S=function(){var e=Object(o.b)(),t=Object(o.c)(_),n=Object(o.c)((function(e){return e.posts})),r=Object(o.c)((function(e){return e.inputValue})),s=Object(o.c)((function(e){return e.loadingStatus})),u=Object(a.useCallback)(l()((function(t){e(function(e){return{type:"SET_DEBOUNCE_INPUT_VALUE",debounceInputValue:e}}(t))}),1e3),[]);return c.a.createElement("div",{className:"app"},c.a.createElement("h1",null,"Dynamic list of posts"),n.length>1&&c.a.createElement("input",{type:"text",className:"app__input",value:r,onChange:function(t){var n=t.target;e(function(e){return{type:"INPUT_VALUE",inputValue:e}}(n.value)),u(n.value)}}),c.a.createElement(L,{posts:t}),0===n.length&&c.a.createElement("button",{type:"button",className:"app__button",onClick:function(){return e(E(!0)),void y.then((function(t){e(E(!1)),e(function(e){return{type:"SET_POSTS",posts:e}}(t))}))}},s?"Loading...":"Get Posts"))},V=function(){return c.a.createElement(o.a,{store:b},c.a.createElement(S,null))};s.a.render(c.a.createElement(V,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.53a82411.chunk.js.map